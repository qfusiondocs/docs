(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{701:function(t,s,e){"use strict";e.r(s);var r=e(92),a=Object(r.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"浏览器兼容性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器兼容性"}},[t._v("#")]),t._v(" 浏览器兼容性")]),t._v(" "),e("h2",{attrs:{id:"browserslist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#browserslist"}},[t._v("#")]),t._v(" browserslist")]),t._v(" "),e("p",[t._v("使用 Luban 创建的项目根目录下 "),e("em",[t._v(".browserlistrc")]),t._v(" 文件，指定了目标浏览器的范围，\n这个值会被"),e("a",{attrs:{href:"https://new.babeljs.io/docs/en/next/babel-preset-env.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("@babel/preset-env"),e("OutboundLink")],1),t._v(" 和\n"),e("a",{attrs:{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer"}},[t._v("autoprefixer"),e("OutboundLink")],1),t._v(" 以及\n"),e("a",{attrs:{href:"https://github.com/csstools/postcss-preset-env",target:"_blank",rel:"noopener noreferrer"}},[t._v("postcss-preset-env"),e("OutboundLink")],1),t._v(" 用来确定需要转译的 JavaScript\n特性和需要添加的 CSS 浏览器厂商前缀以及用于支持现代 CSS 特性的 polyfill。")]),t._v(" "),e("p",[t._v("现在查阅"),e("a",{attrs:{href:"https://github.com/ai/browserslist",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),e("OutboundLink")],1),t._v("了解如何指定浏览器范围。")]),t._v(" "),e("h2",{attrs:{id:"polyfill"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#polyfill"}},[t._v("#")]),t._v(" Polyfill")]),t._v(" "),e("p",[t._v("当使用 Babel 来转译 ES/TS 代码时，会默认使用"),e("a",{attrs:{href:"https://new.babeljs.io/docs/en/next/babel-preset-env.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("@babel/preset-env"),e("OutboundLink")],1),t._v(" 和\n"),e("a",{attrs:{href:"https://github.com/ai/browserslist",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserlist"),e("OutboundLink")],1),t._v(" 来决定项目打包时需求注入哪些 polyfill 代码，来垫平浏览器差异性。\n默认的 "),e("code",[t._v("@babel/preset-env")]),t._v(" 配置项为：")]),t._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useBuiltIns"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"usage"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"corejs"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"proposals"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])]),e("p",[t._v("同时将 "),e("code",[t._v("@babel/runtime")]),t._v(" 作为项目的开发依赖，构建时利用插件 "),e("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 来最大化的减小生产环境的包体积。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("🙋")]),t._v(" "),e("p",[t._v("在使用 TypeScript 作为开发语言，此时在开发环境下将使用 "),e("a",{attrs:{href:"https://www.npmjs.com/package/ts-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-loader"),e("OutboundLink")],1),t._v(" 来编译 ts 代码，在生产环境下使用 "),e("a",{attrs:{href:"https://www.npmjs.com/package/babel-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-loader"),e("OutboundLink")],1),t._v(" 来编译 ts 代码。这个做法意味着只有在生产环境下才会注入 polyfill 代码。")])])])}),[],!1,null,null,null);s.default=a.exports}}]);